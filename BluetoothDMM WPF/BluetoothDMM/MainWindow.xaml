<Window x:Name="window" x:Class="BluetoothDMM.MainWindow" 
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
        xmlns:lex="http://wpflocalizeextension.codeplex.com"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:ScottPlot="clr-namespace:ScottPlot;assembly=ScottPlot.WPF"
        xmlns:local="clr-namespace:BluetoothDMM"
        lex:LocalizeDictionary.IncludeInvariantCulture="False"
        lex:ResxLocalizationProvider.DefaultAssembly="BluetoothDMM"
        lex:ResxLocalizationProvider.DefaultDictionary="Resources"
        d:DataContext="d:DesignInstance local:MainWindow" Style="{DynamicResource CustomWindowStyle}" mc:Ignorable="d" WindowStyle="None" Title="Bluetooth DMM" Height="172" Width="550" HorizontalAlignment="Center" VerticalAlignment="Center" Activated="Window_Activated" MouseDown="Window_MouseDown" StateChanged="OnStateChanged" IsVisibleChanged="OnIsVisibleChanged" >
    <Window.Resources>
        <!--// Toggle Button Style Template //-->
        <ImageBrush x:Key="tb_mouse_over" ImageSource="Assets/tgBtn_MouseOver.png"/>
        <!--// Tooltip Style Template //-->
        <Style TargetType="ToolTip" x:Key="tt_style">
            <Setter Property="Placement" Value="Right"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Width" Value="100"/>
            <Setter Property="Margin" Value="20,0,0,0"/>
            <Setter Property="Background" Value="#4A5668"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontFamily" Value="Fonts/Roboto-Light.ttf #Roboto"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="PlacementRectangle" Value="60,0,0,0"/>
            <Setter Property="HorizontalOffset" Value="15"/>
            <Setter Property="VerticalOffset" Value="6"/>
            <Setter Property="HasDropShadow" Value="True"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
        </Style>
        <Style x:Key="Setting_btn" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="button" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Button.Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="White" Direction="-90" ShadowDepth="0" BlurRadius="15" Opacity="0.5"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="tb_style" TargetType="{x:Type ToggleButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Border x:Name="border" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource tb_mouse_over}"/>
                                <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource tb_mouse_over}"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource tb_mouse_over}"/>
                                <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource tb_mouse_over}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="b_style" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource tb_mouse_over}"/>
                                <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource tb_mouse_over}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="pb_style" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Name="border" BorderThickness="1" Padding="4,2" BorderBrush="DarkGray" CornerRadius="3" Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Name="content"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Button.Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="White" Direction="-90" ShadowDepth="0" BlurRadius="15" Opacity="0.9"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <Grid>
        <Popup x:Name="CustomDialog"
                       StaysOpen="True" 
                       Opened="CustomDialog_Opened"
                       AllowsTransparency="True"
                       Placement="AbsolutePoint"
                       Height="190" Width="400"
                       Margin="0,0,0,0"
                       PopupAnimation="Fade" MouseLeave="CustomDialog_MouseLeave" PreviewMouseLeftButtonDown="CustomDialog_PreviewMouseLeftButtonDown" MouseLeftButtonUp="CustomDialog_MouseLeftButtonUp">
            <Border x:Name="DialogBorder" CornerRadius="8" Background="Black" BorderThickness="2" Height="190" Width="400">
                <Border.BorderBrush>
                    <LinearGradientBrush EndPoint="0,0" MappingMode="Absolute" StartPoint="0,200">
                        <GradientStop Color="#00000000" Offset="0.569"/>
                        <GradientStop Color="White" Offset="0.986"/>
                        <GradientStop Color="#FFFBFBFB"/>
                        <GradientStop Color="#52515151" Offset="0.015"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
                <Grid>
                    <Border Background="Red" Height="28" Width="396" VerticalAlignment="Top" CornerRadius="8,8,0,0">
                        <TextBlock FontSize="14" Margin="15,5">
                            <TextBlock.Effect>
                                <DropShadowEffect BlurRadius="9" ShadowDepth="1"/>
                            </TextBlock.Effect>
                            <Run Name="CustomDialogHeader" Text="" />
                            <Run Text="{lex:LocText IsAvailable}"/>
                        </TextBlock>
                    </Border>
                    <StackPanel Orientation="Vertical" Height="135" Width="360" Margin="0,25,0,0" >
                        <Viewbox >
                        <TextBlock FontSize="18" Height="70" TextWrapping="Wrap">

                            <Run Text="{lex:LocText AvailableString}"/>
                            <LineBreak/> 
                            <Run Text="{lex:LocText WantToConnect}"/>
                        </TextBlock>
                        </Viewbox>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button Name="Button1" Width="95" Height="32" FontSize="14" Content="{lex:LocText Connect}" Margin="5" Click="Button_Click" />
                            <Button Name="Button2" Width="105" Height="32" FontSize="14" Content="Open New" Margin="5" Click="Button_Click" Visibility="Collapsed" />
                            <Button Name="Button3" Width="105" Height="32" FontSize="14" Content="{lex:LocText DontConnect}" Click="Button_Click" Margin="5"/>
                        </StackPanel>
                        
                        <CheckBox Name="DontAsk" Content="{lex:LocText DontAsk}" Height="20" Unchecked="DontAsk_Unchecked" Checked="DontAsk_Unchecked"/>
                    </StackPanel>
                </Grid>
            </Border>


        </Popup>
        <Popup x:Name="AboutDialog"
                       StaysOpen="True" 
                       Opened="CustomDialog_Opened"
                       AllowsTransparency="True"
                       Placement="AbsolutePoint"
                       Height="190" Width="520"
                       Margin="0,0,0,0"
                       PopupAnimation="Fade" MouseLeave="CustomDialog_MouseLeave" PreviewMouseLeftButtonDown="CustomDialog_PreviewMouseLeftButtonDown" MouseLeftButtonUp="CustomDialog_MouseLeftButtonUp">
            <Border x:Name="AboutDialogBorder" CornerRadius="8" Background="Black" BorderThickness="2" Height="190" Width="520">
                <Border.BorderBrush>
                    <LinearGradientBrush EndPoint="0,0" MappingMode="Absolute" StartPoint="0,200">
                        <GradientStop Color="#00000000" Offset="0.569"/>
                        <GradientStop Color="White" Offset="0.986"/>
                        <GradientStop Color="#FFFBFBFB"/>
                        <GradientStop Color="#52515151" Offset="0.015"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
                <Grid>
                    <Border Background="Red" Height="28" Width="516" VerticalAlignment="Top" CornerRadius="8,8,0,0">
                        <TextBlock Name="AboutDialogHeader" Text="{lex:LocText AboutSoftware}" FontSize="14" Margin="15,5">
                            <TextBlock.Effect>
                                <DropShadowEffect BlurRadius="9" ShadowDepth="1"/>
                            </TextBlock.Effect>
                        </TextBlock>
                    </Border>
                    <StackPanel Orientation="Vertical" Height="135" Width="480" Margin="0,25,0,0" >
                        <StackPanel Orientation="Horizontal">
                            <Image Source="Assets/Logo.ico" Width="100"/>
                            <StackPanel Margin="10,15,0,0">
                                <TextBlock Text="Bluetooth DMM for Windows" FontWeight="Bold" />

                                <TextBlock>
                                   <Run  Text="{lex:LocText CreatedBy}" />
                                    <Run Text=" WebSpiderTeam"/>
                                </TextBlock> 
                                <TextBlock> 
                                <Run Text="{lex:LocText Version}"/>
                                <Run Text="{Binding Text, ElementName=version}"/>
                                </TextBlock>
                                <TextBlock>
			                    <Hyperlink RequestNavigate="HandleLinkClick" NavigateUri="https://github.com/webspiderteam/Bluetooth-DMM-For-Windows">
				                    <Run Text="github.com/WebSpiderTeam/Bluetooth-DMM-For-Windows" />
			                    </Hyperlink>

                                </TextBlock>
                            </StackPanel>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button Name="Ok" Width="95" Height="32" FontSize="14" Content="Ok" Margin="5" Click="Ok_Click" />
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Border>


        </Popup>
        <Grid x:Name="grid">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="2"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid Grid.Row="2" x:Name="TopStackPanel" Margin="0,0,0,0" Visibility="Collapsed" VerticalAlignment="Stretch" Height="Auto" Width="Auto">

                <ScottPlot:WpfPlot Name="wpfPlot1"  Margin="-10,-40,0,-10" MouseMove="WpfPlot1_MouseMove" MouseUp="WpfPlot1_MouseUp" MouseWheel="WpfPlot1_MouseWheel" MouseLeave="WpfPlot1_MouseLeave"/>

                <TextBlock x:Name="TxtBattery" TextWrapping="Wrap" Text="battery level: --" HorizontalAlignment="Center" Margin="0,10,0,0" Visibility="Collapsed"/>
                <TextBox x:Name="textBox" HorizontalAlignment="Left" Height="52" Margin="30,0,0,0" TextWrapping="Wrap" Text="TextBox" Width="548" Visibility="Collapsed"/>
                <Viewbox x:Name="ChartSettings" Visibility="Visible" Margin="0,0,25,35" Stretch="Uniform" Width="24" Height="24" HorizontalAlignment="Right" VerticalAlignment="Bottom">
                    <Button Background="Transparent" Opacity="0.5" Click="ChartSettings_Click">
                        <Button.Style>
                            <Style TargetType="{x:Type Button}">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="{x:Type Button}">
                                            <Border Name="border" BorderThickness="1" Padding="4,2" BorderBrush="DarkGray" CornerRadius="3" Background="{TemplateBinding Background}">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Name="content"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Button.Effect">
                                            <Setter.Value>
                                                <DropShadowEffect Color="White" Direction="-90" ShadowDepth="0" BlurRadius="15" Opacity="0.9"/>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                        <Path Fill="White" Data="M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8
			                c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2
			                c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8
			                c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1
			                c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8
			                c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5
			                l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6
			                c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1
			                l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1
			                C478.9,203.801,468.5,191.501,454.2,189.101z M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9
			                c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8
			                c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42
			                c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8
			                c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8
			                c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2
			                c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42
			                c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6
			                c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1
			                c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8
			                c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7
			                c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9zM239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001
			                        z M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z"/>
                    </Button>
                </Viewbox>
                <Popup StaysOpen="True" Width="150" x:Name="SettingPopup" 
                       AllowsTransparency="True"
                       Placement="Top"
                       HorizontalOffset="-2500"
                       VerticalOffset="120"
                       
                       PopupAnimation="Fade">

                    <Border CornerRadius="8">
                        <Grid>
                            <StackPanel Orientation="Vertical">
                                <Button x:Name="Chart_Reset" Height="25" Width="150" Background="#80000000" Style="{StaticResource pb_style}" Margin="0,1" Click="Chart_Reset_Click">
                                    <StackPanel Orientation="Horizontal" Margin="0,-3,-20,0" Height="30" Width="150" HorizontalAlignment="Right">
                                        <TextBlock Text="{lex:LocText ResetView}" Width="122" Height="30" Margin="0,3,0,0"/>
                                        <Viewbox Height="25" Width="18" Margin="-4,-6,0,0" Stretch="Uniform">
                                            <Path Fill="Wheat" Data="m 9,14 c 1.671,0 3,-1.331 3,-3 C 12,9.331 10.671,8 9,8 7.329,8 6,9.331 6,11 c 0,1.669 1.329,3 3,3 z M 17.817,9.186 A 8.94,8.94 0 0 0 16.462,5.967 9.053,9.053 0 0 0 14.032,3.537 8.95,8.95 0 0 0 10.813,2.182 9.028,9.028 0 0 0 8.975,2.002 V 0 L 5,3 8.975,6 V 4.002 C 9.459,4 9.943,4.046 10.41,4.142 A 6.961,6.961 0 0 1 12.912,5.195 7.005,7.005 0 0 1 14.804,7.087 6.967,6.967 0 0 1 16,11 a 7.032,7.032 0 0 1 -0.55,2.725 7.11,7.11 0 0 1 -0.644,1.188 7.2,7.2 0 0 1 -0.858,1.039 7.028,7.028 0 0 1 -3.536,1.907 7.13,7.13 0 0 1 -2.822,0 A 6.961,6.961 0 0 1 5.087,16.805 7.002,7.002 0 0 1 3.197,14.915 6.996,6.996 0 0 1 2,11 H 0 A 9.02,9.02 0 0 0 1.539,16.034 9.096,9.096 0 0 0 3.967,18.462 8.95,8.95 0 0 0 9,20 a 9.09,9.09 0 0 0 1.814,-0.183 9.014,9.014 0 0 0 3.218,-1.355 8.886,8.886 0 0 0 1.331,-1.099 9.228,9.228 0 0 0 1.1,-1.332 A 8.952,8.952 0 0 0 18,11 9.09,9.09 0 0 0 17.817,9.186 Z"
/>
                                        </Viewbox>
                                    </StackPanel>
                                </Button>
                                <Button x:Name="Chart_Fit" Height="25" Width="150" Background="#80000000" Style="{StaticResource pb_style}" Margin="0,1" Click="Chart_Fit_Click">
                                    <StackPanel Orientation="Horizontal" Margin="0,-2,-20,0" Height="30" Width="150" HorizontalAlignment="Right">
                                        <TextBlock Text="{lex:LocText ZoomandFitData}" Width="122" Height="30" Margin="0,3,0,0"/>
                                        <Viewbox Height="25" Width="25" Margin="-10,-15,0,0" Stretch="Uniform">
                                            <Path Fill="Wheat" Stroke="White" StrokeThickness="2" Data="M 37.321169,104.67742 V 48.321173 h 56.35625 56.356241 v 56.356247 56.35625 H 93.677419 37.321169 Z m 107.156241,0 V 53.877423 h -50.799991 -50.8 v 50.799997 50.8 h 50.8 50.799991 z m -93.133321,29.63333 v -12.7 h 2.77812 2.77813 v 7.80521 c 0,4.29286 0.0905,7.80521 0.20112,7.80521 0.11061,0 5.1392,-4.94194 11.17464,-10.98208 l 10.97352,-10.98208 1.98672,1.98673 1.98672,1.98671 -11.10966,11.11203 -11.10966,11.11202 h 7.87017 7.87018 v 2.77813 2.77812 h -12.7 -12.7 z m 59.266661,9.92188 v -2.77813 h 7.80521 c 4.29286,0 7.80521,-0.0888 7.80521,-0.19727 0,-0.1085 -4.94233,-5.14065 -10.98295,-11.18255 l -10.98294,-10.98528 1.98984,-1.97656 1.98984,-1.97656 11.10977,11.10741 11.10977,11.10741 v -7.87017 -7.87018 h 2.77812 2.77813 v 12.7 12.7 h -12.7 -12.7 z M 67.946289,83.04813 56.900339,72.002171 v 7.87096 7.870956 h -2.77813 -2.77812 V 75.044088 62.344089 h 12.7 12.7 v 2.778125 2.778124 h -7.87018 -7.87017 l 11.10741,11.109769 11.10741,11.109772 -1.97385,1.987103 c -1.08561,1.092909 -2.03653,1.987105 -2.11315,1.987105 -0.0766,0 -5.10999,-4.970682 -11.18527,-11.045957 z m 38.163831,9.058852 -1.97384,-1.987103 11.10741,-11.109772 11.1074,-11.109769 h -7.87017 -7.87017 v -2.778124 -2.778125 h 12.7 12.7 v 12.699999 12.699999 h -2.77419 -2.77419 l -0.0701,-7.805035 -0.0701,-7.805036 -10.98021,10.978855 c -6.03911,6.038371 -11.04272,10.979388 -11.11912,10.980036 -0.0764,5.29e-4 -1.02714,-0.893016 -2.11276,-1.985925 z"/>
                                        </Viewbox>
                                    </StackPanel>
                                </Button>
                                <Button x:Name="ClearChart" Height="25" Width="150" Background="#80000000" Style="{StaticResource pb_style}" Margin="0,1" Click="ChartClear_Click">
                                    <StackPanel Orientation="Horizontal" Margin="0,-2,-20,0" Height="30" Width="150" HorizontalAlignment="Right">
                                        <TextBlock Text="{lex:LocText ClearChart}" Width="122" Height="30" Margin="0,3,0,0"/>
                                        <Viewbox Height="22" Width="22" Margin="-6,-10,0,0" Stretch="Uniform">
                                            <Path Fill="Wheat" Stroke="White"  Data="m 754.3,597.7 c 7.1,-18.1 -1.8,-38.5 -19.9,-45.6 -18,-7.2 -38.5,1.7 -45.6,19.8 -3.7,9.4 -80.7,208.2 -18.2,347.6 -29.6,-0.3 -76.3,-7.1 -141.9,-31.8 -12.2,-38 -20.9,-97.3 5.7,-166.9 0,0 -63.7,72.8 -74.3,137.5 -13.7,-6.6 -28,-13.8 -43,-21.8 -15,-8.1 -28.9,-16 -42,-23.8 48.1,-44.6 73.5,-137.9 73.5,-137.9 -43.3,60.6 -97.5,86.2 -135.9,97 -57.1,-41.1 -88.6,-76.3 -105.1,-100.6 150.8,-25 273.9,-199.1 279.7,-207.4 11.1,-15.9 7.2,-37.9 -8.7,-48.9 -15.9,-11.2 -37.8,-7.2 -49,8.7 -1.4,1.9 -137.8,193.7 -271.7,179.5 -10.4,-1.1 -21,2.5 -28.6,10 -7.5,7.5 -11.3,17.9 -10.2,28.5 1.3,12.4 19.5,125.3 264.8,256.9 138.2,74.1 231.6,91.5 288.7,91.5 44.3,0 66.9,-10.4 71.7,-13 9.4,-4.9 16,-13.8 18.1,-24.3 2.1,-10.4 -0.7,-21.2 -7.5,-29.4 -86.2,-103.8 -1.4,-323.4 -0.6,-325.6 z M 875.6,35.1 c -9.2,-12.8 -21.9,-20.4 -37.2,-23.8 -16.7,-3.7 -26.1,0.2 -35,14.3 -53,84.6 -106,169.2 -159,253.8 -1.7,2.7 -3.2,5.4 -4.8,8.1 1,1.1 1.5,2 2.3,2.4 36.2,19.3 72.4,38.6 109.1,58.2 1.3,-2.1 2,-3.1 2.6,-4.2 41.6,-93.9 83.1,-187.8 124.8,-281.6 4.3,-10 3.3,-18.8 -2.8,-27.2 z M 740.4,401.4 C 694.4,376 647.9,351.5 601.3,327.2 565,308.3 528,308 491.3,326.3 c -22,11 -38.8,27.5 -50.4,49.9 116.5,62 232.2,123.6 348.7,185.6 2.2,-5.1 4.4,-9.3 6,-13.7 21.1,-56.8 -1.1,-116.9 -55.2,-146.7 z"/>
                                        </Viewbox>
                                    </StackPanel>
                                </Button>
                                <Button Visibility="Visible" x:Name="Chart_Import" Height="25" Width="150" Background="#80000000" Style="{StaticResource pb_style}" Margin="0,1" Click="Chart_Import_Click">
                                    <StackPanel Orientation="Horizontal" Margin="0,-3,-20,0" Height="30" Width="150" HorizontalAlignment="Right">
                                        <TextBlock Text="{lex:LocText ImportData}" Width="122" Height="30" Margin="0,3,0,0"/>
                                        <Viewbox Height="25" Width="18" Margin="-4,-6,0,0" Stretch="Uniform">
                                            <Path Fill="Wheat" Stroke="White" StrokeThickness="10" Data="M 483.507,130.133 338.44,2.133 C 336.887,0.759 334.874,0 332.8,0 H 85.333 C 80.614,0 76.8,3.814 76.8,8.533 V 196.266 H 34.133 c -4.719,0 -8.533,3.814 -8.533,8.533 v 102.4 c 0,4.719 3.814,8.533 8.533,8.533 H 76.8 v 187.733 c 0,4.719 3.814,8.533 8.533,8.533 h 392.533 c 4.719,0 8.533,-3.814 8.533,-8.533 V 136.533 c 10e-4,-2.449 -1.049,-4.778 -2.892,-6.4 z M 341.333,27.443 455.296,128 H 341.333 Z M 42.667,298.667 v -85.333 h 128 c 4.719,0 8.533,-3.814 8.533,-8.533 V 168.355 L 253.355,256 179.2,343.646 V 307.2 c 0,-4.719 -3.814,-8.533 -8.533,-8.533 z M 469.333,494.933 H 93.867 v -179.2 h 68.267 v 51.2 c 0,3.584 2.236,6.784 5.598,8.013 0.964,0.35 1.954,0.521 2.935,0.521 2.458,0 4.855,-1.067 6.519,-3.021 l 93.867,-110.933 c 2.688,-3.174 2.688,-7.842 0,-11.017 L 177.186,139.563 c -2.321,-2.739 -6.101,-3.729 -9.446,-2.509 -3.371,1.229 -5.606,4.429 -5.606,8.013 v 51.2 H 93.867 v -179.2 h 230.4 v 119.467 c 0,4.719 3.814,8.533 8.533,8.533 h 136.533 z"/>
                                        </Viewbox>
                                    </StackPanel>
                                </Button>
                                <Button Visibility="Visible" x:Name="Chart_Export" Height="25" Width="150" Background="#80000000" Style="{StaticResource pb_style}" Margin="0,1" Click="Chart_Export_Click">
                                    <StackPanel Orientation="Horizontal" Margin="0,-3,-20,0" Height="30" Width="150" HorizontalAlignment="Right">
                                        <TextBlock Text="{lex:LocText ExportData}" Width="122" Height="30" Margin="0,3,0,0"/>
                                        <Viewbox Height="25" Width="18" Margin="-4,-6,0,0" Stretch="Uniform">
                                            <Path Fill="Wheat" Stroke="White" StrokeThickness="10" Data="M503.467,0H8.533C3.823,0,0,3.814,0,8.533v392.533c0,2.381,0.998,4.659,2.748,6.263l110.933,102.4
			                                                            c1.57,1.459,3.644,2.27,5.786,2.27h384c4.71,0,8.533-3.814,8.533-8.533V8.533C512,3.814,508.177,0,503.467,0z M215.834,364.433
			                                                            c2.167,2.176,5.333,2.995,8.277,2.202l93.722-25.557c1.425-0.358,2.765-1.092,3.883-2.193c0-0.008,0.009-0.008,0.009-0.017
			                                                            c0.06,0.009,0.017-0.017,0.017-0.017c0-0.008,0.009-0.008,0.017-0.017l6.042-6.033h26.035l13.099,19.652v88.704L353.835,460.8
			                                                            H158.165l-13.099-19.652v-88.695l13.099-19.652h61.841l-6.374,23.356C212.83,359.108,213.666,362.266,215.834,364.433z
			                                                             M237.602,333.141l14.225-52.173l47.471,47.471l-52.173,14.225L237.602,333.141z M315.733,320.734l-56.201-56.201l107.401-107.401
			                                                            l56.201,56.201L315.733,320.734z M379,145.067l13.534-13.534l56.201,56.201L435.2,201.267L379,145.067z M404.599,119.467
			                                                            L435.2,88.866l56.201,56.201L460.8,175.667L404.599,119.467z M93.867,17.067h324.267v64.734L386.5,113.434l-25.6,25.6l-74.3,74.3
			                                                            H122.308L93.867,192V17.067z M494.933,494.933h-372.13L17.067,397.338V17.067H76.8v179.2c0,2.68,1.263,5.214,3.413,6.827
			                                                            l34.133,25.6c1.476,1.109,3.277,1.707,5.12,1.707h150.067l-28.1,28.1c0,0.009-0.008,0.009-0.017,0.017
			                                                            c-0.009,0-0.009,0.017-0.017,0.017c-0.026,0.034-0.017,0.017-0.017,0.017c-1.092,1.118-1.826,2.466-2.185,3.883l-14.541,53.299
			                                                            H153.6c-2.85,0-5.513,1.425-7.1,3.797l-17.067,25.6c-0.93,1.399-1.434,3.055-1.434,4.736v93.867c0,1.681,0.503,3.337,1.434,4.736
			                                                            l17.067,25.6c1.587,2.372,4.25,3.797,7.1,3.797h204.8c2.85,0,5.513-1.425,7.1-3.797l17.067-25.6
			                                                            c0.93-1.399,1.434-3.055,1.434-4.736v-93.867c0-1.681-0.503-3.337-1.434-4.736l-17.067-25.6c-1.587-2.372-4.25-3.797-7.1-3.797
			                                                            h-13.534l150.067-150.067V494.933z M494.933,124.467l-53.7-53.7c-1.664-1.664-3.849-2.5-6.033-2.5v-51.2h59.733V124.467z"/>
                                        </Viewbox>
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </Border>
                </Popup>
            </Grid>

            <Viewbox x:Name="Display" Grid.Row="0" HorizontalAlignment="Stretch" Margin="5,5,0,0" Stretch="Uniform" VerticalAlignment="Top" StretchDirection="Both">

                <Grid>
                    <TextBlock x:Name="TxtStatus" TextWrapping="Wrap" FontSize="20" Height="40" Text="{lex:LocText NotConnected}" VerticalAlignment="Top" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                    <Grid x:Name="aDisplay" Margin="0,-35,0,0" Visibility="Collapsed" >
                        <TextBlock  Width="1100" />
                        <Viewbox Width="700" HorizontalAlignment="Stretch" Margin="0,10,0,0" Stretch="Uniform" VerticalAlignment="Top" StretchDirection="Both">
                            <Grid>

                                <StackPanel Height="55" Width="270" Margin="0,0,0,0">
                                    <local:CircularProgress 
                                 x:Name="Meter"
                                 Height="500" Width="500" Margin="0,10,0,0"
                                 StartAngle="29.7"
                                 EndAngle="-29.3"
                                 Stroke="#FFFFFF00"
                                 Value="0.1"
                                 HorizontalAlignment="Center"/>
                                    <Path Width="270" Height="55" Margin="0,-973,0,0" Fill="#FF0E0000" Data="m 119.95707,-30.720772 3.25784,9.461455 m 0.87995,-10.845939 2.91094,8.958938 m 1.2504,-10.270992 2.94662,9.63797 m 1.23695,-10.877219 2.64788,9.234264 m 5.78097,-11.492762 2.48079,9.94991 m 1.76192,-10.968494 2.20787,9.563318 m 2.052,-10.507697 2.04163,9.605113 m 2.23404,-10.475007 1.86949,9.617671 m -75.369666,17.134182 4.712805,8.5021243 m -0.878283,-10.5840943 4.677955,8.7979516 m -0.807665,-10.8126826 4.470953,8.7747389 m -0.566125,-10.7216289 4.356781,8.932722 m 3.551844,-12.62056 4.064541,9.129103 m -0.0632,-10.868952 3.9996,9.422459 m 0.0316,-11.092207 3.76717,9.324081 m 0.29247,-10.923235 3.57025,9.300817 m 175.6137,-9.300878 -3.47386,9.049723 m 7.53354,-7.450561 -3.57946,8.859474 m 7.61058,-7.189743 -4.06318,9.572249 m 8.06455,-7.832381 -3.98718,8.955354 m 11.89582,-5.267503 -4.51883,9.2649736 m 8.42369,-7.3180786 -4.72361,9.2706064 m 8.59385,-7.2559094 -4.89645,9.2088867 m 8.73096,-7.1268917 -5.0851,9.1737609 m -68.41503,-35.9256059 -1.96374,10.102557 m 6.2394,-9.232677 -2.11097,9.931365 m 6.37082,-8.986988 -2.29914,9.958669 m 6.54184,-8.940063 -2.41973,9.705028 m 10.8486,-7.44654 -2.64018,9.207387 m 6.82377,-7.968149 -2.83021,9.257192 m 6.99152,-7.94514 -2.88952,8.893015 m 7.02732,-7.508517 -3.08764,8.967161 m -73.94126,-22.549411 -0.18449,10.569143 m 4.54624,-10.454937 -0.36544,10.464869 m 4.72455,-10.274552 -0.54858,10.467569 m 4.90372,-10.201178 -0.71238,10.187471 m 9.40538,-9.426937 -1.03644,9.861033 m 5.37166,-9.367098 -1.22037,9.939147 m 5.54631,-9.369617 -1.40716,10.012503 m 5.7225,-9.367582 -1.52212,9.610278 m -76.69516,-9.610276 1.51703,9.578121 m 2.7983,-10.223061 1.41121,10.041225 m 2.91476,-10.610732 1.24556,10.144254 m 3.08965,-10.638203 1.05581,10.045329 m 7.63717,-10.805862 0.71238,10.187485 m 3.64275,-10.453854 0.52568,10.03054 m 3.83345,-10.220858 0.35041,10.034445 m 4.01136,-10.148663 0.18085,10.361007 m 26.52075,-15.443445 -1.42215,16.255218 m 45.37072,-8.501493 -4.1111,15.342827 m 46.04562,-0.07533 -6.67101,14.306015 m -209.727043,-14.32697 6.830483,14.648015 m 35.10695,-29.907402 4.12505,15.394881 m 39.82505,-23.140082 1.40249,16.030516 m 66.2693,-18.360358 -3.7129,21.056905 m 47.33941,-8.22945 -6.76209,18.578668 m -171.40869,-18.996666 7.02985,19.314347 m 36.71542,-31.913147 3.72324,21.115539 m 41.6929,-25.186439 v 22.243909 m 135.00005,5.567961 c -5.16677,8.949108 -10.33354,17.898215 -15.50031,26.8473224 M 66.349166,-28.16797 81.384742,-2.1255919"  Stretch="Fill" StrokeThickness="2" Opacity="0.7" >
                                        <Path.Effect>
                                            <DropShadowEffect Direction="225" BlurRadius="3" ShadowDepth="1"/>
                                        </Path.Effect>
                                        <Path.Stroke>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                <GradientStop Color="#FF00F70A" Offset="0.863"/>
                                                <GradientStop Color="#FFF71E09" Offset="1"/>
                                                <GradientStop Color="#FF00F7EC" Offset="0.011"/>
                                                <GradientStop Color="#FF00F774" Offset="0.13"/>
                                            </LinearGradientBrush>
                                        </Path.Stroke>
                                    </Path>
                                </StackPanel>
                            </Grid>
                        </Viewbox>
                    </Grid>
                    <Viewbox Stretch="Uniform" HorizontalAlignment="Center" Height="60" Margin="0,27,0,220" VerticalAlignment="Bottom" Width="320">
                        <TextBlock x:Name="AutoRange" Visibility="Visible" VerticalAlignment="Top" Height="60" TextWrapping="Wrap" Text="{lex:LocText AutoRange}"  FontSize="44" FontStretch="Expanded" TextAlignment="Center" FontWeight="Bold"/>
                    </Viewbox>
                    <TextBlock x:Name="MyGattCData" HorizontalAlignment="Center" Height="262" Margin="0,10,30,0" TextWrapping="WrapWithOverflow" Text="----" VerticalAlignment="Top" Width="700" TextAlignment="Center" FontSize="210" FontWeight="Bold" FontFamily="Segoe UI"/>
                    <TextBlock x:Name="True_RMS" Visibility="Hidden" HorizontalAlignment="Center" Height="73" Margin="350,0,0,-30" TextWrapping="Wrap" Text="{lex:LocText TrueRMS}" VerticalAlignment="Bottom" Width="250" FontSize="40" FontWeight="Bold"/>
                    <TextBlock x:Name="InRush" Visibility="Hidden" HorizontalAlignment="Center" Height="73" Margin="-300,70,0,-30" TextWrapping="Wrap" Text="{lex:LocText InRush}" VerticalAlignment="Bottom" Width="200" FontSize="40" FontWeight="Bold"/>
                    <TextBlock x:Name="MyGattCDataACDC" HorizontalAlignment="Left" Height="70" Margin="80,175,0,0" TextWrapping="NoWrap" Text="" VerticalAlignment="Top" Width="85" FontSize="60" FontWeight="Bold" TextAlignment="Right"/>
                    <TextBlock x:Name="MyGattCDataMin" Visibility="Hidden" HorizontalAlignment="Center" Height="73" Margin="200,0,0,-30" TextWrapping="Wrap" Text="{lex:LocText Min}" VerticalAlignment="Bottom" Width="329" FontSize="40" FontWeight="Bold"/>
                    <TextBlock x:Name="MyGattCDataMax" Visibility="Hidden" HorizontalAlignment="Center" Height="73" Margin="200,0,0,-30" TextWrapping="Wrap" Text="{lex:LocText Max}" VerticalAlignment="Bottom" Width="329" FontSize="40" FontWeight="Bold"/>
                    <TextBlock x:Name="MyGattCDataPeek" Visibility="Hidden" HorizontalAlignment="Center" Height="73" Margin="200,0,0,-30" TextWrapping="Wrap" Text="{lex:LocText Peek}" VerticalAlignment="Bottom" Width="329" FontSize="40" FontWeight="Bold"/>
                    <Viewbox x:Name="MyGattCDataDiode" Visibility="Hidden" Margin="-60,10,0,0" Stretch="Fill" Width="64" Height="64" HorizontalAlignment="Center" VerticalAlignment="Top">
                        <Path Fill="White" Data="m 185.09961,79.863281 -0.26563,27.749999 -0.26562,27.75 -3.74219,0.3086 -3.74219,0.31054 -6.2207,-1.59375 -6.2207,-1.59375 -14.37696,-6.94336 -14.37695,-6.94531 -26.46875,-15.12891 -26.468748,-15.128902 -0.458984,0.457031 -0.458985,0.458984 -1.080078,22.398437 -1.080078,22.40039 -1.152344,0.73438 -1.152344,0.73437 -31.867187,0.0156 -31.867188,0.0156 0.716797,7.75 0.71875,7.75 0.34961,0.36524 0.349609,0.36718 29.800781,0.9336 29.798828,0.93359 2.148438,0.44336 2.146484,0.44336 0.632813,13.75586 0.632812,13.75781 0.71875,7.70899 0.720703,7.71093 15.5,-9.09375 15.500001,-9.0957 12.75195,-7.31836 12.75,-7.31641 8.67774,-4.06836 8.67773,-4.0664 5.7168,-1.48047 5.71484,-1.48047 h 8.60547 8.60547 v 26 26 h 9.5 9.5 v -26 -26 h 36.5 36.5 v -9 -9 h -34.91797 -34.91797 l -1.58203,-0.60742 -1.58203,-0.60742 V 107.25586 79.863281 h -9.48438 z"/>
                    </Viewbox>
                    <Viewbox x:Name="MyGattCDataRel" Visibility="Hidden" Margin="20,180,0,0" Stretch="Uniform" Width="50" Height="50" HorizontalAlignment="Left" VerticalAlignment="Top">
                        <Path Fill="White" Data="M509.775,481.154L275.109,11.82c-7.862-15.724-30.3-15.724-38.162,0L2.28,481.154c-7.092,14.185,3.222,30.874,19.081,30.874h469.333C506.553,512.028,516.868,495.338,509.775,481.154z M55.879,469.361L256.028,69.064l200.149,400.297H55.879z"/>
                    </Viewbox>
                    <Viewbox x:Name="MyGattCDataHV" Visibility="Hidden" Margin="75,100,0,0" Stretch="Uniform" Width="64" Height="64" HorizontalAlignment="Left" VerticalAlignment="Top">
                        <Path Fill="White" Data="m 207.523,560.316 c 0,0 194.42,-421.925 194.444,-421.986 l 10.79,-23.997 c -41.824,12.02 -135.271,34.902 -135.57,35.833 C 286.96,122.816 329.017,0 330.829,0 290.853,0 250.877,0 210.902,0 L 198.735,57.938 147.559,267.933 282.75,231.127 Z"/>
                    </Viewbox>
                    <Viewbox x:Name="MyGattCDataContinuity" Visibility="Hidden" Margin="130,22,0,0" Stretch="Fill" Width="80" Height="80" HorizontalAlignment="Center" VerticalAlignment="Top" RenderTransformOrigin="0.5,0.5">
                        <Viewbox.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform/>
                                <SkewTransform/>
                                <RotateTransform Angle="90"/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Viewbox.RenderTransform>
                        <Grid Width="60" Height="60">
                            <Path Margin="-60,-80" Stretch="None" Fill="White" Data="m 67.07584,134.57891 -0.815234,-1.14438 1.058009,-1.40376 c 5.155183,-6.83979 12.314169,-10.37003 19.646209,-9.68794 6.089114,0.56647 11.61571,3.90579 16.110016,9.73411 l 1.01588,1.31743 -0.84159,1.15548 -0.8416,1.15548 -1.3269,-1.61763 c -3.404807,-4.15081 -6.895369,-6.59418 -11.317613,-7.92225 -2.112852,-0.63453 -6.777563,-0.68526 -8.892325,-0.0967 -4.230496,1.17737 -8.394749,3.98629 -11.325129,7.63916 -1.831311,2.28282 -1.537721,2.17928 -2.469723,0.871 z"/>
                            <Path Margin="-60,-80" Stretch="none" Fill="White" Data="m 70.400122,139.1779 -0.774656,-1.09923 1.181191,-1.55179 c 2.633356,-3.45959 6.153108,-5.9552 10.021894,-7.1058 2.305085,-0.68554 6.385909,-0.68786 8.658733,-0.005 3.871728,1.16339 7.330323,3.62243 10.097302,7.17912 l 1.147154,1.47454 -0.828278,1.13398 -0.828273,1.13398 -1.221775,-1.45214 c -5.037942,-5.98782 -11.200506,-8.06379 -17.432165,-5.87233 -2.880612,1.01301 -6.101168,3.43823 -8.197539,6.17309 -0.459836,0.59989 -0.88396,1.0907 -0.942498,1.0907 -0.05853,0 -0.455028,-0.49465 -0.88109,-1.09922 z"/>
                            <Path Margin="-60,-80" Stretch="None" Fill="White" Data="m 73.787016,143.88265 -0.823144,-1.15549 0.931189,-1.19517 c 1.900955,-2.43982 4.29792,-4.26784 6.922134,-5.27908 1.787622,-0.68885 4.88506,-0.9294 6.846876,-0.53174 3.253775,0.65956 6.845086,3.07882 8.928529,6.01464 l 0.741482,1.04485 -0.856924,1.17321 c -0.744368,1.0191 -0.882771,1.12957 -1.053695,0.84103 -0.108224,-0.1827 -0.618253,-0.82107 -1.1334,-1.41859 -4.247665,-4.92692 -10.210934,-5.96814 -15.209063,-2.65563 -1.46226,0.96912 -2.932342,2.35673 -3.749296,3.53895 -0.295881,0.42818 -0.579269,0.7785 -0.629753,0.7785 -0.05048,0 -0.462204,-0.51996 -0.914935,-1.15548 z"/>
                            <Path Margin="-60,-80" Stretch="None" Fill="White" Data="m 80.618914,153.35632 c -0.465642,-0.52952 -0.84662,-1.0826 -0.84662,-1.22906 0,-0.4353 1.857402,-2.2474 2.83733,-2.76812 1.821648,-0.968 4.04228,-0.79637 5.8265,0.45035 0.832802,0.58192 2.185471,2.03047 2.185471,2.34038 0,0.0841 -0.393882,0.61201 -0.875296,1.17313 l -0.875294,1.02023 -0.472443,-0.55111 c -1.048678,-1.22328 -1.651892,-1.50306 -3.240644,-1.50306 -1.584972,0 -2.192514,0.28042 -3.230294,1.49099 l -0.462088,0.53904 z"/>
                            <Path Margin="-60,-80" Stretch="None" Fill="White" Data="m 92.318377,149.69095 -0.887417,-1.04659 c -1.024559,-1.20835 -3.014187,-2.59582 -4.212333,-2.9375 -1.176883,-0.33562 -3.241526,-0.29177 -4.33046,0.092 -1.31958,0.46502 -2.980835,1.65114 -3.921585,2.79998 -0.443142,0.54117 -0.867268,0.98394 -0.942499,0.98394 -0.07523,0 -0.481839,-0.48566 -0.90357,-1.07923 l -0.766787,-1.07922 0.460444,-0.67102 c 0.823918,-1.20073 3.007738,-3.05157 4.366838,-3.701 0.717449,-0.34283 1.905755,-0.73092 2.640682,-0.86245 3.17151,-0.56755 6.806294,1.01965 9.237051,4.03355 0.803177,0.99586 0.889503,1.17821 0.704254,1.48765 -0.260412,0.38208 -0.107783,0.16196 -0.429203,0.57318 l -0.417094,0.60354 c -0.571004,0.74994 -0.626193,0.6548 -0.598321,0.80321 z"/>
                        </Grid>
                    </Viewbox>
                    <Viewbox x:Name="MyGattCDataBluetooth" Margin="0,95,90,0" Height="80" Width="50" Stretch="Uniform" HorizontalAlignment="Right" VerticalAlignment="Top" OpacityMask="Black">
                        <Path Fill="White" Data="M 25.41,11.41 14,0 H 12 V 15.17 L 2.83,6 0,8.83 11.17,20 0,31.17 2.83,34 12,24.83 V 40 h 2 L 25.41,28.59 16.83,20 Z M 16,7.66 19.76,11.42 16,15.17 Z M 19.76,28.59 16,32.34 v -7.52 z">
                            <Path.Style>
                                <Style TargetType="Path">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsChecked, ElementName=Is_Connected}" Value="false">
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty='Opacity' From='0' To='1' Duration='0:0:1' AutoReverse='True' RepeatBehavior='Forever'/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                            <DataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard FillBehavior='Stop'>
                                                        <DoubleAnimation Storyboard.TargetProperty='Opacity' To='1' Duration='0:0:0.5'/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.ExitActions>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Path.Style>
                            <Path.Effect>
                                <DropShadowEffect BlurRadius="20" RenderingBias="Quality"/>
                            </Path.Effect>
                        </Path>
                    </Viewbox>
                    <Viewbox x:Name="MyGattCDataBattery" Margin="5,110,90,0" Height="50" Width="80" Stretch="Uniform" HorizontalAlignment="Left" VerticalAlignment="Top" OpacityMask="Black">
                        <Path Opacity="0" Fill="Red" Data="m 10.1,256 h 381.1 c 5.5,0 9.9,-4.5 9.9,-10 V 192 H 438 c 5.6,0 10.1,-4.5 10.1,-10 V 74 c 0,-5.5 -4.5,-10 -10.1,-10 H 401 V 10 C 401,4.5 396.7,0 391.1,0 H 10.1 C 4.5,0 0,4.5 0,10 v 236 c 0,5.5 4.5,10 10.1,10 z M 369,32 v 32 32 h 32.2 14.8 v 64 H 401.2 369 v 32 32 H 192 L 160,32 Z">
                            <Path.Style>
                                <Style TargetType="Path">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsChecked, ElementName=Battery}" Value="true">
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty='Opacity' From='0' To='1' Duration='0:0:1' AutoReverse='True' RepeatBehavior='Forever'/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                            <DataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty='Opacity' From="1" To='0' Duration='0:0:0.5'/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.ExitActions>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Path.Style>
                            <Path.Effect>
                                <DropShadowEffect BlurRadius="20" RenderingBias="Quality"/>
                            </Path.Effect>
                        </Path>
                    </Viewbox>
                    <TextBlock x:Name="MyGattCDataSymbol" HorizontalAlignment="Right" Height="87" Margin="800,159,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="171" FontSize="72" FontWeight="Bold"/>
                </Grid>
            </Viewbox>
            <GridSplitter Grid.Row="1" Height="2" Background="#a0303030" HorizontalAlignment="Stretch" ResizeDirection="Rows" Visibility="{Binding Visibility, ElementName=TopStackPanel}" />

        </Grid>
        <CheckBox x:Name="Is_Connected" Visibility="Hidden" Content="CheckBox" HorizontalAlignment="Left" Margin="54,204,0,0" VerticalAlignment="Top"/>
        <CheckBox x:Name="Battery" Visibility="Hidden" IsChecked="False" Content="CheckBox" HorizontalAlignment="Left" Margin="54,204,0,0" VerticalAlignment="Top"/>

        <Popup StaysOpen="False" Width="300" Height="280" x:Name="MyPopup" Closed="MyPopup_Closed" >
            <Popup.Child>
                <Grid x:Name="nav_pnl" VerticalAlignment="Top" HorizontalAlignment="Left" Width="65" Height="400" Background="#2E333A">

                    <StackPanel x:Name="st_pnl">

                        <!--// Grid for the Menu Toggle Button //-->
                        <Grid Height="70">
                            <Button Grid.Row="1" x:Name="Tg_Btn2" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="20,36,0,0" Height="20" Width="20" BorderThickness="0" Style="{StaticResource b_style}" Click="Tg_Btn_Unchecked" >
                                <!--// Toggle button default background image //-->
                                <Button.Background>
                                    <ImageBrush ImageSource="Assets/tgBtn_MouseOver.png"/>
                                </Button.Background>
                                <!--// Toggle Button - Checked, Unchecked events //-->

                            </Button>

                            <!--// Menu title text //-->
                            <TextBlock Grid.Row="1" Grid.Column="0" Margin="73, 20,0,0" Text="{lex:LocText Menu}" Foreground="White" FontSize="18" Background="Transparent" HorizontalAlignment="Left" VerticalAlignment="Center">
						<!--// Shadow Effect //-->
                                <TextBlock.Effect>
                                    <DropShadowEffect BlurRadius="10" ShadowDepth="1" Direction="-90" Color="White"/>
                                </TextBlock.Effect>
                            </TextBlock>

                            <Button x:Name="SettingBtn" Grid.Column="1" Grid.Row="1" Height="25" Width="25" Margin="170, 25,0,0" BorderThickness="0" Style="{StaticResource Setting_btn}" Click="SettingBtn_Click">
                                <Button.Background>
                                    <ImageBrush ImageSource="Assets/img_setting.png"/>
                                </Button.Background>
                            </Button>
                            <!--// Toggle Button //-->

                        </Grid>
                        <!--// ListView with menu list items //-->

                        <ListView x:Name="LV" Background="Transparent" BorderBrush="Transparent" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <!--// Connect to Device //-->
                            <ListViewItem x:Name="ConnectTo" HorizontalAlignment="Left" Height="30" Margin="0,0,0,0">
                                <StackPanel Orientation="Horizontal" Margin="0,-18,0,0" Width="230">
                                    <Image Source="Assets/Bt_con.png" Height="28" Width="28" Margin="12,0,0,0"/>
                                    <TextBlock Text="{lex:LocText ConnectToDevice}" Height="30" Margin="25,10,0,0"/>
                                </StackPanel>
                            </ListViewItem>
                            <!--// Data Chart //-->
                            <ListViewItem x:Name="Chart" HorizontalAlignment="Left" Height="30" Margin="0,0,0,0" >
                                <StackPanel Orientation="Horizontal" Margin="0,-18,0,0" Width="230">
                                    <Image Source="Assets/line_chart.png" Width="28" Height="28" Margin="12,0,0,0">
                                        <Image.Effect>
                                            <DropShadowEffect Color="Yellow" Direction="-90" ShadowDepth="0" BlurRadius="15" Opacity="1"/>
                                        </Image.Effect>
                                    </Image>
                                    <TextBlock Text="{lex:LocText DataChart}" Width="120" Height="30" Margin="25,10,0,0"/>
                                    <Image x:Name="ChartON" Visibility="Hidden" Source="Assets/done.png" Width="16" Height="16" HorizontalAlignment="Right" Margin="0,0,10,0"/>
                                </StackPanel>
                            </ListViewItem>
                            <ListViewItem x:Name="ADisplay" HorizontalAlignment="Left" Margin="0,0,0,0" Height="30">
                                <StackPanel Orientation="Horizontal" Margin="0,-18,0,0" Width="230">
                                    <Image Source="Assets/ADisplay.png" Width="28" Margin="12,0,0,0">
                                        <Image.Effect>
                                            <DropShadowEffect Color="white" Direction="-90" ShadowDepth="0" BlurRadius="7" Opacity="1"/>
                                        </Image.Effect>
                                    </Image>
                                    <TextBlock Text="{lex:LocText AnalogDisplay}" Width="120" Height="30" Margin="25,10,0,0"/>
                                    <Image x:Name="ADisplayON" Visibility="Hidden" Source="Assets/done.png" Width="16" Height="16" HorizontalAlignment="Right" Margin="0,0,10,0"/>
                                </StackPanel>
                            </ListViewItem>
                            <!--// Always on top //-->
                            <ListViewItem x:Name="OnTop" HorizontalAlignment="Left" Margin="0,0,0,0" Height="30">
                                <StackPanel Orientation="Horizontal" Margin="0,-18,0,0" Width="230">
                                    <Image Source="Assets/ontop.png" Width="28" Margin="12,0,0,0">
                                        <Image.Effect>
                                            <DropShadowEffect Color="white" Direction="-90" ShadowDepth="0" BlurRadius="7" Opacity="1"/>
                                        </Image.Effect>
                                    </Image>
                                    <TextBlock Text="{lex:LocText AlwaysonTop}" Width="120" Height="30" Margin="25,10,0,0"/>
                                    <Image x:Name="OnTopON" Visibility="Hidden" Source="Assets/done.png" Width="16" Height="16" HorizontalAlignment="Right" Margin="0,0,10,0"/>
                                </StackPanel>
                            </ListViewItem>
                            <ListViewItem x:Name="About" HorizontalAlignment="Left" Margin="0,0,0,0" Height="30">
                                <StackPanel Orientation="Horizontal" Margin="0,-18,0,0" Width="230">
                                    <Image Source="Assets/Information.png" Width="28" Margin="12,0,0,0">
                                        <Image.Effect>
                                            <DropShadowEffect Color="white" Direction="-90" ShadowDepth="0" BlurRadius="7" Opacity="1"/>
                                        </Image.Effect>
                                    </Image>
                                    <TextBlock Text="{lex:LocText About}" Width="120" Height="30" Margin="25,10,0,0"/>
                                </StackPanel>
                            </ListViewItem>
                            <!--// Listview items style template //-->
                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                <Border x:Name="Bd" Height="50" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="True">
                                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <MultiTrigger>
                                                        <MultiTrigger.Conditions>
                                                            <Condition Property="IsMouseOver" Value="True"/>
                                                        </MultiTrigger.Conditions>
                                                        <Setter Property="Background" TargetName="Bd" Value="#404D5B"/>
                                                        <Setter Property="BorderBrush" TargetName="Bd" Value="#404D5B"/>
                                                    </MultiTrigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListView.ItemContainerStyle>
                        </ListView>
                        <TextBlock  Margin="0,20,0,0" Width="240" TextAlignment="Center" Foreground="White" FontSize="12" Background="Transparent" HorizontalAlignment="Left" VerticalAlignment="Center">
                          By WebSpiderTeam
					<!--// Shadow Effect //-->
                            <TextBlock.Effect>
                                <DropShadowEffect BlurRadius="10" ShadowDepth="1" Direction="-90" Color="White"/>
                            </TextBlock.Effect>
                        </TextBlock>
                        <TextBlock x:Name="version" Margin="90,-5,0,0" Width="240" TextAlignment="Center" Foreground="White" FontSize="11" Background="Transparent" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                    </StackPanel>

                </Grid>
            </Popup.Child>
        </Popup>
        <ToggleButton x:Name="Tg_Btn" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="20,36,0,0" Height="20" Width="20" BorderThickness="0" Style="{StaticResource tb_style}" Unchecked="Tg_Btn_Unchecked" Checked="Tg_Btn_Checked">
            <!--// Toggle button default background image //-->
            <ToggleButton.Background>
                <ImageBrush ImageSource="Assets/tgBtn_default.png"/>
            </ToggleButton.Background>
            <!--// Toggle Button - Checked, Unchecked events //-->
            <ToggleButton.Triggers>
                <EventTrigger RoutedEvent="ToggleButton.Unchecked">
                    <BeginStoryboard>
                        <Storyboard x:Name="HideStackPanel">
                            <DoubleAnimation Storyboard.TargetName="nav_pnl" Storyboard.TargetProperty="Width" BeginTime="0:0:0" From="230" To="65" Duration="0:0:0.2">

                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="nav_pnl" Storyboard.TargetProperty="Height" BeginTime="0:0:0" From="400" To="65" Duration="0:0:0.2">

                            </DoubleAnimation>
                            <ColorAnimation Storyboard.TargetName="nav_pnl" Storyboard.TargetProperty="Background.Color" From="#FF2E333A" To="#002E333A" Duration="0:0:0.125">

                            </ColorAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
                <EventTrigger RoutedEvent="ToggleButton.Checked">
                    <BeginStoryboard>
                        <Storyboard x:Name="ShowStackPanel">
                            <DoubleAnimation Storyboard.TargetName="nav_pnl" Storyboard.TargetProperty="Width" BeginTime="0:0:0" From="65" To="230" Duration="0:0:0.3">

                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="nav_pnl" Storyboard.TargetProperty="Height" BeginTime="0:0:0" From="65" To="400" Duration="0:0:0.3">

                            </DoubleAnimation>
                            <ColorAnimation Storyboard.TargetName="nav_pnl" Storyboard.TargetProperty="Background.Color" To="#FF2E333A" From="#002E333A" Duration="0:0:0.125"/>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </ToggleButton.Triggers>
        </ToggleButton>
    </Grid>
</Window>
